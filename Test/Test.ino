
/*
 Rotational Antenna Tracking System Software
 Cornell Rocketry Team

 This program receives rocket telemetry, 
 aims the antenna at the rocket's location, 
 and passes the data on to the ground station laptop

 Created SP23 
 by Zach Garcia

 */

#include <Stepper.h>
#include <Servo.h>
#include <ArduinoJson.h>

const bool SERIAL_INPUT = true;
const bool DATA_INPUT = false;
int iteration = 0;

// change this to fit the number of steps per revolution for the motor
const int motorStepsPerRevolution = 200;
const int platformStepsPerRev = 1280;

double alt_data[] = {9.312699,15.52003,27.94198,34.1547,43.47501,55.90744,62.12351,83.89463,96.34224,111.9074,127.4798,149.294,168.0022,183.601,205.4522,236.6926,249.1959,277.349,299.2621,330.5913,355.6757,380.7791,409.0444,443.6221,471.9412,506.5848,528.6505,575.9831,610.7361,645.5276,677.1871,712.0469,746.9455,788.2352,832.7582,877.3434,877.3434,928.3703,969.8901,1014.66,1049.88,1088.343,1130.066,1175.054,1216.884,1265.217,1300.708,1365.332,1404.168,1449.533,1491.715,1540.455,1579.499,1628.369,1674.048,1719.789,1719.789,1775.419,1821.304,1863.967,1896.824,1939.586,1972.519,2015.38,2054.996,2094.659,2124.439,2170.814,2203.981,2247.148,2287.046,2326.992,2363.652,2403.693,2447.125,2487.268,2487.268,2550.93,2597.917,2641.611,2678.627,2719.057,2756.161,2796.688,2830.499,2874.505,2905.007,2962.699,2996.683,3040.915,3074.982,3112.495,3146.636,3187.654,3225.298,3266.416,3266.416,3317.886,3355.684,3396.966,3427.964,3465.888,3500.405,3538.417,3569.549,3604.176,3631.906,3690.907,3722.189,3753.5,3784.841,3819.7,3847.614,3886.037,3921.006,3959.515,3959.515,4015.613,4061.263,4096.423,4124.578,4156.283,4188.018,4223.316,4251.583,4286.951,4311.733,4364.9,4396.843,4439.483,4467.94,4499.984,4528.498,4560.602,4589.167,4624.91,4624.91,4678.599,4714.441,4750.324,4782.654,4815.016,4847.409,4872.628,4897.866,4930.343,4952.015,4999.018,5024.356,5056.962,5089.604,5122.278,5154.984,5187.726,5216.856,5246.014,5246.014,5289.8,5322.681,5351.935,5381.216,5410.524,5436.191,5465.55,5494.936,5531.706,5553.791,5601.689,5627.511,5653.354,5682.914,5708.801,5734.708,5764.346,5794.009,5819.987,5819.987,5864.569,5898.049,5927.837,5953.925,5991.231,6017.372,6043.534,6069.715,6092.176,6110.905,6148.396,6174.667,6204.716,6231.033,6257.37,6279.964,6306.344,6332.744,6366.722,6366.722,6408.298,6442.357,6468.873,6495.411,6518.173,6540.953,6567.552,6586.564,6609.395,6628.433,6662.728,6685.614,6712.332,6739.075,6762.017,6788.8,6815.608,6834.771,6865.454,6865.454,6907.694,6934.604,6961.534,6980.785,7007.757,7027.036,7050.189,7073.356,7096.54,7112.007,7146.834,7166.2,7189.452,7212.722,7236.011,7259.316,7282.64,7305.979,7329.335,7329.335,7368.302,7395.608,7419.034,7438.567,7462.022,7481.583,7501.155,7520.739,7544.256,7556.023,7587.418,7607.057,7626.708,7646.371,7669.982,7689.672,7713.318,7733.036,7756.712,7756.712,7792.263,7815.984,7839.724,7859.521,7879.331,7895.188,7918.988,7934.866,7950.752,7966.644,7994.477,8010.393,8034.28,8050.217,8070.147,8086.1,8110.048,8130.017,8146,8146,8173.993,8198.006,8222.04,8238.07,8262.135,8282.201,8302.281,8314.334,8334.435,8346.501,8370.649,8386.756,8402.874,8418.997,8435.132,8451.274,8471.463,8487.622,8503.792,8503.792,8532.108,8552.35,8568.551,8584.763,8600.98,8617.21,8633.447,8649.69,8670.009,8686.273,8710.685,8722.896,8743.263,8759.566,8775.878,8784.034,8800.359,8812.607,8828.947,8828.947,8853.47,8873.922,8886.199,8898.483,8914.865,8931.259,8947.659,8959.968,8972.278,8984.595,9005.133,9017.462,9033.91,9046.25,9062.713,9079.183,9095.663,9108.028,9124.524,9124.524,9149.282,9165.801,9178.193,9190.592,9202.994,9215.402,9227.817,9240.235,9252.658,9260.944,9277.52,9289.959,9302.402,9314.85,9327.303,9339.761,9356.381,9364.694,9377.167,9377.167,9397.967,9410.453,9422.944,9435.443,9443.775,9456.283,9468.793,9481.308,9498.004,9506.353,9523.063,9535.6,9548.142,9556.507,9569.057,9581.615,9594.176,9602.554,9610.931,9610.931,9627.697,9640.276,9648.667,9652.861,9665.453,9673.848,9682.247,9694.849,9703.254,9711.661,9724.274,9732.688,9745.31,9753.729,9766.359,9770.572,9783.21,9791.64,9800.068,9800.068,9816.938,9825.376,9833.816,9842.256,9850.701,9859.148,9867.599,9876.051,9884.503,9892.959,9905.647,9914.109,9926.807,9935.275,9943.745,9952.219,9960.694,9964.931,9973.41,9973.41,9986.131,9994.616,9998.857,10007.35,10015.84,10020.08,10024.33,10032.82,10037.07,10041.32,10049.82,10058.32,10062.57,10071.08,10075.33,10083.84,10088.1,10096.61,10100.87,10100.87,10113.64,10117.9,10126.42,10126.42,10134.94,10139.2,10147.73,10152,10156.26,10160.52,10169.06,10173.33,10177.59,10181.86,10190.4,10194.67,10198.94,10198.94,10203.21,10203.21,10211.75,10220.3,10224.57,10228.85,10233.13,10237.4,10241.68,10245.95,10250.23,10250.23,10258.79,10263.07,10267.35,10271.63,10275.91,10280.19,10284.48,10284.48,10288.76,10288.76,10293.04,10297.33,10301.61,10305.9,10305.9,10310.18,10310.18,10310.18,10314.47,10314.47,10318.76,10323.05,10323.05,10323.05,10323.05,10327.33,10327.33,10327.33,10327.33,10327.33,10331.62,10331.62,10331.62,10331.62,10335.91,10335.91,10335.91,10335.91,10335.91,10335.91,10340.2,10340.2,10340.2,9829.594,9846.479,10353.08,10348.79,10348.79,10344.5,10344.5,10348.79,10344.5,10340.2,10340.2,10340.2,10340.2,10340.2,10344.5,10344.5,10340.2,10335.91,10340.2,10335.91,10335.91,10323.05,10331.62,10335.91,10335.91,10335.91,10335.91,10335.91,10335.91,10335.91,10340.2,10344.5,10348.79,10348.79,10357.37,10353.08,10353.08,10353.08,10348.79,10344.5,10344.5,10340.2,10340.2,10344.5,10344.5,10348.79,10348.79,10344.5,10340.2,10340.2,10327.33,10331.62,10335.91,10331.62,10323.05,10323.05,10318.76,10305.9,10310.18,10301.61,10305.9,10301.61,10293.04,10288.76,10288.76,10293.04,10293.04,10297.33,10293.04,10293.04,10297.33,10297.33,10284.48,10263.07,10245.95,10241.68,10228.85,10224.57,10220.3,10220.3,10228.85,10220.3,10211.75,10207.48,10211.75,10211.75,10211.75,10203.21,10194.67,10194.67,10207.48,10169.06,10173.33,10169.06,10186.13,10186.13,10190.4,10173.33,10156.26,10156.26,10160.52,10177.59,10164.79,10117.9,10075.33,10049.82,10049.82,10049.82,10062.57,10062.57,10083.84,10143.47,10143.47,10113.64,10092.35,10079.59,10075.33,10062.57,10037.07,10024.33,9994.616,9977.648,9964.931,9956.455,9943.745,9939.512,9939.512,9939.512,9935.275,9926.807,9918.343,9909.88,9905.647,9892.959,9892.959,9897.189,9897.189,9909.88,9926.807,9935.275,9943.745,9947.98,9973.41,9977.648,9947.98,9922.574,9922.574,9909.88,9909.88,9892.959,9867.599,9854.926,9854.926,9854.926,9842.256,9812.721,9800.068,9783.21,9787.423,9791.64,9791.64,9804.286,9850.701,9871.823,9850.701,9833.816,9833.816,9816.938,9800.068,9787.423,9783.21,9762.149,9741.103,9728.481,9724.274,9720.07,9720.07,9728.481,9741.103,9741.103,9720.07,9715.864,9762.149,9770.572,9728.481,9724.274,9724.274,9699.052,9682.247,9694.849,9699.052,9686.448,9678.049,9665.453,9661.255,9665.453,9661.255,9636.084,9619.313,9627.697,9619.313,9619.313,9602.554,9581.615,9560.691,9548.142,9548.142,9535.6,9531.421,9527.24,9527.24,9531.421,9543.961,9548.142,9543.961,9523.063,9514.707,9531.421,9535.6,9506.353,9485.479,9498.004,9498.004,9481.308,9460.451,9464.621,9464.621,9498.004,9510.531,9493.828,9477.137,9502.178,9518.886,9489.655,9460.451,9456.283,9452.112,9439.609,9431.275,9431.275,9431.275,9447.945,9452.112,9435.443,9393.807,9364.694,9364.694,9352.226,9348.069,9352.226,9352.226,9343.916,9335.608,9323.152,9319,9348.069,9364.694,9381.325,9377.167,9373.01,9373.01,9364.694,9343.916,9323.152,9302.402,9269.231,9269.231,9252.658,9244.375,9240.235,9248.518,9269.231,9281.666,9248.518,9236.094,9248.518,9252.658,9244.375,9219.541,9231.956,9256.8,9236.094,9223.678,9202.994,9215.402,9227.817,9227.817,9219.541,9207.132,9174.061,9153.41,9157.54,9145.155,9157.54,9132.773,9091.541,9079.183,9070.945,9075.065,9083.304,9083.304,9083.304,9112.15,9128.648,9120.398,9112.15,9112.15,9087.422,9075.065,9050.364,9038.021,9046.25,9062.713,9054.48,9021.574,8992.809,8980.489,8976.383,8976.383,8968.173,8959.968,8951.762,8943.559,8947.659,8951.762,8951.762,8951.762,8980.489,8992.809,8992.809,8992.809,8988.7,8984.595,8976.383,8972.278,8972.278,8964.07,8947.659,8927.159,8931.259,8935.357,8947.659,8943.559,8939.459,8923.062,8902.577,8902.577,8878.016,8861.649,8853.47,8845.293,8833.032,8824.86,8820.776,8812.607,8800.359,8796.278,8792.196,8784.034,8775.878,8767.721,8763.642,8755.49,8751.413,8747.339,8759.566,8759.566,8759.566,8771.798,8771.798,8759.566,8743.263,8718.826,8722.896,8722.896,8706.615,8690.34,8682.205,8690.34,8690.34,8682.205,8678.14,8670.009,8682.205,8718.826,8735.117,8735.117,8690.34,8661.879,8653.754,8661.879,8653.754,8637.507,8629.386,8637.507,8645.629,8637.507,8600.98,8584.763,8621.267,8641.566,8617.21,8588.815,8600.98,8621.267,8633.447,8633.447,8588.815,8568.551,8568.551,8568.551,8544.251,8536.154,8507.835,8487.622,8475.501,8463.386,8451.274,8447.236,8447.236,8443.202,8439.165,8439.165,8439.165,8435.132,8439.165,8439.165,8435.132,8423.031,8410.936,8406.903,8427.063,8455.31,8467.423,8463.386,8447.236,8435.132,8402.874,8362.598,8354.548,8346.501,8346.501,8366.622,8382.729,8374.675,8370.649,8370.649,8378.7,8386.756,8370.649,8330.415,8322.374,8326.393,8326.393,8322.374,8302.281,8290.232,8290.232,8306.298,8310.317,8306.298,8306.298,8298.263,8278.186,8246.09,8234.063,8234.063,8262.135,8266.146,8262.135,8266.146,8266.146,8262.135,8258.121,8254.111,8242.081,8234.063,8218.031,8210.021,8210.021,8206.016,8194.004,8190.001,8185.998,8177.993,8165.992,8165.992,8153.996,8138.006,8110.048,8094.081,8090.091,8090.091,8094.081,8102.063,8110.048,8098.07,8074.134,8066.159,8090.091,8126.021,8122.027,8110.048,8102.063,8086.1,8062.173,8062.173,8066.159,8070.147,8054.201,8046.23,8038.262,8034.28,8042.247,8046.23,8034.28,8026.315,8022.334,8018.352,8014.372,8002.434,7990.5,7982.545,7974.594,7970.62,7958.695,7958.695,7930.896,7922.958,7915.021,7907.086,7891.224,7895.188,7926.926,7950.752,7950.752,7934.866,7891.224,7867.444,7875.369,7883.295,7887.258,7871.407,7851.602,7823.896,7808.074,7808.074,7804.121,7800.167,7808.074,7819.938,7812.03,7804.121,7796.214,7784.359,7768.557,7764.609,7756.712,7752.766,7744.872,7729.09,7725.147,7725.147,7729.09,7721.202,7701.492,7701.492,7681.794,7677.857,7681.794,7681.794,7673.92,7666.046,7650.304,7650.304,7662.109,7662.109,7654.24,7646.371,7642.436,7638.504,7642.436,7654.24,7650.304,7646.371,7634.572,7634.572,7607.057,7595.273,7595.273,7607.057,7638.504,7658.174,7658.174,7638.504,7610.985,7595.273,7575.642,7583.491,7591.344,7587.418,7583.491,7579.566,7575.642,7567.792,7548.179,7548.179,7505.07,7485.495,7493.324,7489.411,7462.022,7446.382,7434.658,7426.844,7422.938,7426.844,7430.752,
7426.844,7419.034,7403.415,7399.513,7403.415,7407.318,7407.318,7403.415,7403.415,7403.415,7407.318,7434.658,7438.567,7430.752,7422.938,7407.318,7395.608,7372.203,7360.507,7341.022,7337.125,7329.335,7329.335,7325.442,7309.869,7294.307,7290.416,7313.763,7313.763,7356.607,7356.607,7376.102,7333.231,7290.416,7274.863,7251.545,7232.127,7232.127,7239.894,7243.778,7228.247,7216.604,7212.722,7224.366,7232.127,7208.843,7189.452,7181.699,7181.699,7177.824,7189.452,7220.483,7232.127,7216.604,7189.452,7166.2,7150.706,7139.092,7142.962,7162.324,7162.324,7158.452,7150.706,7135.22,7112.007,7092.675,7081.083,7073.356,7073.356,7069.494,7081.083,7112.007,7112.007,7100.407,7088.812,7112.007,7123.611,7088.812,7081.083,7084.946,7081.083,7046.328,7015.468,6996.195,6992.343,6988.489,6984.638,6984.638,6984.638,6988.489,6992.343,6996.195,6996.195,7003.903,7000.048,6976.935,6969.233,6969.233,6965.384,6957.686,6961.534,6973.085,6965.384,6961.534,6953.838,6949.989,6957.686,6949.989,6949.989,6953.838,6961.534,6953.838,6942.294,6938.449,6934.604,6926.913,6923.066,6923.066,6923.066,6926.913,6926.913,6926.913,6926.913,6923.066,6919.224,6919.224,6915.381,6915.381,6915.381,6911.536,6903.851,6900.01,6900.01,6896.169,6896.169,6892.327,6896.169,6900.01,6900.01,6896.169,6892.327,6884.646,6880.808,6880.808,6876.97,6873.13,6869.293,6869.293,6869.293,6869.293,6865.454,6865.454,6861.618,6861.618,6865.454,6869.293,6865.454,6865.454,6865.454,6857.782,6853.944,6850.109,6846.273,6846.273,6846.273,6842.439,6838.605,6834.771,6834.771,6830.938,6830.938,6827.104,6827.104,6827.104,6834.771,6834.771,6830.938,6830.938,6827.104,6819.441,6811.778,6807.946,6807.946,6807.946,6804.117,6804.117,6804.117,6800.288,6800.288,6796.458,6792.63,6792.63,6792.63,6788.8,6784.973,6784.973,6784.973,6784.973,6781.147,6781.147,6777.318,6777.318,6777.318,6773.493,6777.318,6773.493,6769.666,6769.666,6769.666,6765.841,6762.017,6758.191,6754.368,6754.368,6750.543,6750.543,6750.543,6746.721,6746.721,6746.721,6742.899,6742.899,6739.075,6735.254,6735.254,6735.254,6735.254,6735.254,6735.254,6731.432,6731.432,6731.432,6731.432,6731.432,6731.432,6727.612,6727.612,6723.792,6723.792,6723.792,6719.971,6716.152,6716.152,6712.332,6712.332,6708.515,6704.697,6704.697,6704.697,6700.878,6700.878,6697.062,6697.062,6693.244,6693.244,6689.429,6689.429,6685.614,6681.797,6681.797,6681.797,6674.167,6670.354,6666.542,6662.728,6662.728,6658.916,6658.916,6658.916,6658.916,6655.103,6655.103,6651.292,6647.481,6647.481,6647.481,6643.669,6643.669,6639.86,6639.86,6639.86,6639.86,6639.86,6643.669,6643.669,6643.669,6639.86,6636.049,6636.049,6628.433,6624.623,6620.815,6620.815,6613.201,6613.201,6609.395,6609.395,6605.587,6605.587,6605.587,6605.587,6605.587,6601.783,6601.783,6601.783,6601.783,6601.783,6601.783,6601.783,6597.976,6594.172,6590.369,6590.369,6586.564,6586.564,6582.761,6578.957,6575.156,6571.354,6563.751,6563.751,6563.751,6563.751,6559.949,6559.949,6559.949,6556.15,6556.15,6556.15,6552.352,6552.352,6548.551,6548.551,6544.753,6544.753,6544.753,6544.753,6540.953,6540.953,6540.953,6537.156,6537.156,6537.156,6537.156,6533.36,6533.36,6529.561,6525.766,6525.766,6525.766,6521.968,6518.173,6514.379,6514.379,6510.583,6506.79,6506.79,6506.79,6506.79,6502.995,6499.202,6499.202,6495.411,6495.411,6495.411,6491.617,6491.617,6491.617,6491.617,6487.826,6487.826,6484.033,6480.243,6480.243,6476.453,6472.661,6472.661,6468.873,6468.873,6465.082,6465.082,6461.294,6461.294,6461.294,6457.507,6457.507,6457.507,6453.717,6453.717,6449.931,6446.143,6442.357,6442.357,6438.572,6438.572,6434.785,6434.785,6434.785,6434.785,6431,6431,6427.214,6427.214,6427.214,6423.431,6419.648,6419.648,6415.864,6415.864,6412.082,6408.298,6404.517,6400.736,6400.736,6396.954,6396.954,6396.954,6393.174,6389.393,6389.393,6389.393,6385.614,6385.614,6381.835,6381.835,6381.835,6381.835,6381.835,6381.835,6378.055,6374.278,6374.278,6370.499,6366.722,6366.722,6359.167,6362.946,6359.167,6355.393,6355.393,6351.615,6351.615,6351.615,6347.841,6347.841,6347.841,6344.067,6344.067,6344.067,6340.292,6336.519,6336.519,6332.744,6332.744,6328.972,6328.972,6325.2,6321.427,6321.427,6321.427,6321.427,6317.656,6317.656,6313.883,6310.114,6313.883,6306.344,6306.344,6306.344,6302.573,6302.573,6302.573,6298.805,6298.805,6295.034,6295.034,6295.034,6295.034,6295.034,6291.267,6287.5,6287.5,6287.5,6283.731,6283.731,6283.731,6279.964,6276.196,6276.196,6272.431,6268.666,6268.666,6264.899,6264.899,6264.899,6261.136,6261.136,6257.37,6253.606,6253.606,6249.844,6253.606,6253.606,6249.844,6246.08,6246.08,6246.08,6246.08,6246.08,6242.318,6242.318,6234.793,6234.793,6234.793,6231.033,6227.271,6223.511,6223.511,6223.511,6219.75,6215.991,6215.991,6215.991,6212.233,6212.233,6212.233,6212.233,6212.233,6212.233,6208.473,6208.473,6208.473,6204.716,6200.957,6197.2,6197.2,6193.444,6193.444,6193.444,6185.932,6182.174,6182.174,6178.42,6178.42,6174.667,6174.667,6170.911,6167.158,6167.158,6167.158,6163.403,6159.652,6159.652,6155.9,6155.9,6152.147,6148.396,6148.396,6148.396,6144.644,6144.644,6140.894,6140.894,6140.894,6137.145,6133.394,6129.645,6129.645,6129.645,6129.645,6129.645,6129.645,6129.645,6133.394,6133.394,6129.645,6129.645,6122.147,6122.147,6118.4,6110.905,6110.905,6107.157,6107.157,6103.412,6103.412,6103.412,6103.412,6103.412,6103.412,6103.412,6103.412,6099.667,6095.92,6092.176,6092.176,6088.431,6084.688,6084.688,6080.945,6077.201,6077.201,6073.458,6069.715,6069.715,6069.715,6069.715,6069.715,6069.715,6073.458,6073.458,6069.715,6065.974,6065.974,6062.234,6058.492,6054.752,6051.011,6051.011,6047.272,6043.534,6043.534,6039.793,6039.793,6039.793,6039.793,6036.056,6036.056,6036.056,6039.793,6036.056,6036.056,6032.317,6028.581,6028.581,6024.845,6024.845,6021.107,6021.107,6017.372,6013.635,6013.635,6009.9,6009.9,6009.9,6017.372,6313.883,6080.945,6080.945,5998.698,5994.963,5991.231,5987.5,5987.5,5983.766,5980.035,5980.035,5976.303,5976.303,5972.573,5972.573,5968.843,5965.112,5965.112,5965.112,5965.112,5965.112,5961.383,5961.383,5957.653,5953.925,5953.925,5950.198,5953.925,5953.925,5953.925,5950.198,5946.469,5946.469,5946.469,5942.743,5939.014,5939.014,5935.289,5931.564,5931.564,5927.837,5924.113,5924.113,5920.387,5920.387,5920.387,5916.664,5912.94,5912.94,5912.94,5909.216,5909.216,5909.216,5905.494,5901.77,5901.77,5898.049,5898.049,5894.328,5894.328,5890.605,5886.886,5886.886,5886.886,5883.164,5883.164,5883.164,5875.727,5875.727,5879.445,5875.727,5872.006,5868.289,5868.289,5864.569,5864.569,5864.569,5860.853,5860.853,5857.136,5857.136,5853.418,5853.418,5849.702,5849.702,5845.985,5845.985,5842.271,5842.271,5842.271,5838.556,5838.556,5838.556,5834.84,5834.84,5831.127,5827.412,5827.412,5823.699,5819.987,5819.987,5816.273,5816.273,5816.273,5812.563,5812.563,5812.563,5808.85,5805.139,5805.139,5801.429,5801.429,5801.429,5797.718,5797.718,5794.009,5794.009,5790.298,5790.298,5786.59,5786.59,5786.59,5786.59,5782.882,5782.882,5782.882,5782.882,5782.882,5782.882,5782.882,5779.173,5779.173,5775.466,5771.757,5771.757,5771.757,5768.051,5768.051,5764.346,5760.639,5760.639,5760.639,5760.639,5756.934,5749.523,5749.523,5745.82,5745.82,5742.115,5738.413,5734.708,5731.006,5731.006,5727.305,5723.603,5719.902,5719.902,5719.902,5719.902,5719.902,5716.2,5716.2,5716.2,5712.5,5708.801,5708.801,5705.101,5701.402,5701.402,5701.402,5697.702,5697.702,5697.702,5694.005,5690.308,5690.308,5686.609,5686.609,5682.914,5679.215,5679.215,5679.215,5679.215,5675.521,5668.129,5668.129,5668.129,5664.435,5664.435,5664.435,5664.435,5660.739,5657.046,5657.046,5657.046,5653.354,5645.968,5645.968,5645.968,5645.968,5642.274,5638.583,5638.583,5638.583,5638.583,5634.893,5634.893,5631.2,5631.2,5627.511,5623.819,5623.819,5623.819,5620.131,5620.131,5616.442,5612.752,5612.752,5612.752,5609.065,5609.065,5609.065,5609.065,5605.375,5601.689,5601.689,5598.002,5598.002,5598.002,5598.002,5594.314,5594.314,5590.629,5586.942,5586.942,5583.258,5583.258,5579.574,5575.888,5575.888,5572.205,5572.205,5572.205,5572.205,5564.837,5564.837,5564.837,5564.837,5564.837,5561.155,5557.472,5557.472,5553.791,5550.107,5550.107,5546.427,5542.748,5542.748,5542.748,5542.748,5539.066,5539.066,5539.066,5539.066,5535.387,5535.387,5535.387,5535.387,5535.387,5535.387,5535.387,5531.706,5531.706,5531.706,5528.028,5524.351,5520.671,5516.994,5513.315,5509.64,5505.964,5502.287,5502.287,5502.287,5498.612,5498.612,5498.612,5494.936,5494.936,5494.936,5494.936,5491.262,5491.262,5487.588,5483.913,5480.24,5480.24,5476.566,5476.566,5476.566,5472.895,5472.895,5472.895,5480.24,5483.913,5480.24,5480.24,5476.566,5472.895,5465.55,5461.879,5461.879,5458.207,5458.207,5454.538,5454.538,5454.538,5454.538,5450.868,5447.197,5443.529,5439.859,5439.859,5432.524,5432.524,5428.855,5428.855,5428.855,5425.189,5425.189,5425.189,5425.189,5425.189,5531.706,5553.791,5461.879,5469.223,5645.968,5671.826,5436.191,5417.855,5417.855,5417.855,5414.19,5406.86,5406.86,5403.194,5399.531,5399.531,5395.868,5392.203,5392.203,5395.868,5395.868,5384.877,5381.216,5377.555,5373.893,5370.233,5366.571,5366.571,5366.571,5366.571,5366.571,5362.912,5362.912,5362.912,5362.912,5359.253,5359.253,5355.593,5355.593,5355.593,5348.275,5348.275,5344.618,5344.618,5344.618,5340.962,5340.962,5337.303,5337.303,5337.303,5333.647,5329.99,5326.335,5322.681,5322.681,5322.681,5319.024,5319.024,5315.371,5315.371,5311.715,5311.715,5311.715,5308.063,5308.063,5308.063,5304.41,5300.756,5300.756,5300.756,5297.104,5293.451,5289.8,5289.8,5286.15,5286.15,5286.15,5282.498,5282.498,5282.498,5278.849,5275.197,5275.197,5275.197,5271.549,5271.549,5271.549,5267.9,5267.9,5267.9,5264.25,5260.603,5256.954,5253.308,5253.308,5249.661,5246.014,5246.014,5242.368,5242.368,5238.721,5235.077,5235.077,5235.077,5231.433,5227.787,5227.787,5227.787,5224.144,5224.144,5224.144,5220.499,5216.856,5216.856,5216.856,5209.57,5209.57,5205.929,5209.57,5209.57,5205.929,5202.287,5202.287,5198.646,5198.646,5198.646,5195.006,5195.006,5187.726,5187.726,5187.726,5187.726,5184.084,5184.084,5180.446,5180.446,5176.809,5176.809,5173.169,5169.532,5169.532,5169.532,5169.532,5165.894,5162.257,5158.622,
5158.622,5154.984,5154.984,5154.984,5154.984,5151.349,5151.349,5147.712,5147.712,5144.078,5140.445,5140.445,5140.445,5140.445,5136.809,5133.176,5129.542,5129.542,5129.542,5125.91,5125.91,5125.91,5122.278,5122.278,5115.014,5115.014,5115.014,5115.014,5111.381,5111.381,5111.381,5107.751,5107.751,5104.122,5100.491,5100.491,5096.862,5096.862,5093.231,5093.231,5089.604,5085.976,5085.976,5085.976,5085.976,5082.347,5082.347,5082.347,5078.72,5078.72,5075.092,5071.466,5067.84,5067.84,5067.84,5060.588,5060.588,5056.962,5056.962,5056.962,5053.338,5053.338,5049.715,5049.715,5049.715,5042.467,5042.467,5042.467,5042.467,5042.467,5038.843,5038.843,5035.221,5031.6,5031.6,5031.6,5027.977,5027.977,5024.356,5024.356,5020.734,5017.114,5017.114,5017.114,5017.114,5009.874,5006.256,5006.256,5006.256,5002.636,5002.636,4999.018,4999.018,4999.018,4995.401,4995.401,4991.782,4991.782,4988.166,4984.547,4984.547,4980.932,4980.932,4980.932,4977.316,4973.699,4973.699,4973.699,4970.085,4970.085,4970.085,4966.469,4966.469,4966.469,4962.855,4959.242,4955.627,4955.627,4955.627,4952.015,4948.401,4948.401,4944.79,4944.79,4944.79,4944.79,4941.178,4941.178,4937.565,4937.565,4933.955,4930.343,4930.343,4930.343,4926.734,4923.125,4923.125,4923.125,4919.514,4919.514,4915.906,4915.906,4912.296,4912.296,4912.296,4908.688,4908.688,4905.081,4905.081,4901.473,4897.866,4897.866,4894.258,4894.258,4890.653,4887.048,4887.048,4883.441,4883.441,4883.441,4879.837,4876.231,4876.231,4876.231,4876.231,4872.628,4872.628,4865.42,4865.42,4865.42,4861.818,4861.818,4861.818,4861.818,4861.818,4858.214,4858.214,4865.42,4912.296,4858.214,4858.214,4854.613,4851.012,4851.012,4847.409,4840.207,4836.608,4833.009,4833.009,4829.408,4825.81,4825.81,4825.81,4825.81,4822.21,4818.613,4815.016,4815.016,4815.016,4811.417,4811.417,4811.417,4815.016,4815.016,4815.016,4815.016,4815.016,4807.821,4807.821,4804.224,4804.224,4800.628,4797.034,4793.437,4789.843,4786.247,4786.247,4782.654,4779.061,4779.061,4775.466,4775.466,4771.874,4771.874,4768.28,4768.28,4764.689,4764.689,4761.099,4761.099,4757.506,4753.916,4753.916,4753.916,4753.916,4750.324,4753.916,4753.916,4757.506,4757.506,4757.506,4753.916,4750.324,4750.324,4750.324,4746.735,4743.146,4743.146,4739.555,4739.555,4732.377,4728.791,4725.204,4721.615,4718.029,4714.441,4714.441,4710.856,4710.856,4710.856,4707.271,4707.271,4703.685,4703.685,4703.685,4700.101,4696.515,4696.515,4696.515,4696.515,4692.932,4692.932,4692.932,4692.932,4689.349,4689.349,4689.349,4685.765,4685.765,4685.765,4685.765,4682.183,4678.599,4678.599,4678.599,4678.599,4671.437,4671.437,4671.437,4667.854,4664.274,4664.274,4664.274,4660.692,4660.692,4657.113,4657.113,4653.535,4649.954,4646.376,4646.376,4642.796,4642.796,4642.796,4639.219,4639.219,4639.219,4639.219,4635.642,4632.063,4632.063,4628.488,4624.91,4624.91,4617.76,4614.183,4614.183,4610.609,4610.609,4607.034,4607.034,4607.034,4607.034,4607.034,4607.034,4607.034,4603.46,4599.888,4599.888,4596.313,4596.313,4592.741,4592.741,4592.741,4585.596,4585.596,4585.596,4582.025,4578.453,4578.453,4574.883,4574.883,4574.883,4574.883,4571.311,4567.742,4567.742,4564.173,4560.602,4560.602,4564.173,4560.602,4557.034,4557.034,4557.034,4557.034,4560.602,4840.207,4710.856,4549.897,4546.33,4542.762,4539.196,4539.196,4535.628,4532.063,4528.498,4528.498,4524.931,4524.931,4521.367,4517.801,4517.801,4521.367,4517.801,4514.238,4510.675,4510.675,4510.675,4507.11,4507.11,4507.11,4503.548,4503.548,4503.548,4499.984,4496.423,4496.423,4492.862,4492.862,4489.3,4485.739,4485.739,4482.178,4482.178,4478.618,4475.06,4475.06,4471.499,4471.499,4471.499,4467.94,4467.94,4467.94,4464.381,4460.823,4457.266,4457.266,4457.266,4453.708,4450.151,4450.151,4450.151,4446.594,4446.594,4439.483,4439.483,4439.483,4439.483,4435.926,4435.926,4432.372,4432.372,4432.372,4428.816,4425.263,4425.263,4425.263,4421.71,4418.155,4418.155,4414.603,4414.603,4414.603,4411.049,4407.498,4407.498,4403.946,4403.946,4403.946,4400.394,4396.843,4396.843,4396.843,4393.292,4393.292,4393.292,4389.742,4389.742,4386.193,4382.642,4382.642,4379.094,4379.094,4379.094,4375.543,4371.996,4371.996,4371.996,4371.996,4453.708,4457.266,4368.449,4368.449,4368.449,4368.449,4364.9,4361.354,4361.354,4357.806,4357.806,4354.26,4354.26,4350.715,4350.715,4350.715,4350.715,4347.168,4340.077,4340.077,4336.534,4332.991,4329.445,4329.445,4325.903,4325.903,4325.903,4325.903,4322.359,4322.359,4322.359,4322.359,4318.817,4318.817,4311.733,4308.192,4308.192,4301.11,4301.11,4301.11,4297.571,4297.571,4294.03,4294.03,4297.571,4297.571,4301.11,4297.571,4290.492,4286.951,4279.876,4279.876,4279.876,4276.337,4276.337,4272.8,4269.262,4269.262,4269.262,4269.262,4265.727,4265.727,4265.727,4265.727,4262.191,4258.654,4255.119,4255.119,4255.119,4248.049,4248.049,4248.049,4248.049,4244.516,4244.516,4240.98,4240.98,4237.447,4237.447,4237.447,4237.447,4233.913,4233.913,4233.913,4237.447,4237.447,4237.447,4237.447,4233.913,4233.913,4230.381,4230.381,4226.85,4226.85,4223.316,4223.316,4223.316,4219.786,4219.786,4216.253,4212.723,4209.193,4205.662,4205.662,4198.603,4195.075,4195.075,4195.075,4191.547,4188.018,4188.018,4184.491,4184.491,4180.962,4180.962,4177.436,4173.91,4173.91,4170.383,4170.383,4166.858,4166.858,4166.858,4166.858,4166.858,4166.858,4166.858,4166.858,4163.331,4159.807,4156.283,4156.283,4152.758,4149.234,4145.71,4145.71,4142.188,4138.666,4138.666,4135.142,4138.666,4135.142,4131.621,4131.621,4131.621,4128.098,4128.098,4124.578,4121.058,4121.058,4124.578,4121.058,4117.536,4114.017,4114.017,4114.017,4110.496,4110.496,4110.496,4110.496,4103.46,4103.46,4103.46,4103.46,4103.46,4099.94,4096.423,4096.423,4096.423,4096.423,4096.423,4092.904,4092.904,4092.904,4092.904,4089.387,4082.353,4082.353,4078.838,4075.321,4075.321,4071.806,4068.292,4068.292,4064.776,4064.776,4061.263,4061.263,4057.748,4057.748,4054.235,4054.235,4050.723,4050.723,4050.723,4050.723,4047.209,4047.209,4043.698,4043.698,4040.184,4036.673,4036.673,4036.673,4036.673,4036.673,4040.184,4040.184,4040.184,4036.673,4033.163,4029.651,4026.141,4026.141,4022.63,4022.63,4022.63,4022.63,4022.63,4022.63,4022.63,4022.63,4019.121,4019.121,4019.121,4015.613,4012.103,4012.103,4012.103,4033.163,4092.904,4068.292,4005.086,4001.579,3994.564,3994.564,3987.551,3987.551,3987.551,3984.046,3984.046,3984.046,3980.541,3980.541,3977.035,3977.035,3977.035,3977.035,3973.531,3973.531,3970.025,3970.025,3970.025,3966.522,3966.522,3963.02,3963.02,3963.02,3963.02,3963.02,3959.515,3959.515,3959.515,3959.515,3956.013,3952.51,3949.008,3949.008,3949.008,3945.508,3942.005,3942.005,3942.005,3942.005,3935.003,3935.003,3935.003,3935.003,3931.504,3931.504,3931.504,3928.005,3924.504,3924.504,3924.504,3921.006,3921.006,3917.506,3917.506,3914.009,3914.009,3914.009,3914.009,3910.512,3907.013,3907.013,3903.517,3903.517,3903.517,3900.019,3900.019,3896.524,3896.524,3896.524,3896.524,3893.029,3889.532,3886.037,3886.037,3882.541,3882.541,3879.048,3879.048,3879.048,3879.048,3879.048,3875.554,3872.06,3868.567,3868.567,3865.073,3865.073,3861.581,3861.581,3858.09,3854.597,3854.597,3851.106,3851.106,3851.106,3847.614,3847.614,3847.614,3847.614,3844.124,3840.635,3840.635,3837.144,3833.655,3830.165,3830.165,3826.677,3823.189,3823.189,3819.7,3816.213,3816.213,3812.724,3809.239,3809.239,3809.239,3809.239,3805.753,3805.753,3805.753,3914.009,3917.506,3805.753,3802.265,3798.781,3798.781,3795.294,3795.294,3795.294,3791.81,3788.326,3788.326,3784.841,3784.841,3784.841,3781.357,3781.357,3777.873,3777.873,3774.39,3774.39,3774.39,3774.39,3770.908,3770.908,3770.908,3767.425,3767.425,3767.425,3763.944,3760.461,3760.461,3756.98,3756.98,3756.98,3753.5,3753.5,3750.019,3746.54,3743.059,3739.58,3736.102,3736.102,3732.622,3732.622,3729.145,3729.145,3725.666,3725.666,3725.666,3725.666,3722.189,3722.189,3718.713,3718.713,3715.235,3711.759,3708.282,3708.282,3704.807,3701.333,3701.333,3697.857,3697.857,3697.857,3697.857,3697.857,3694.383,3694.383,3694.383,3687.435,3687.435,3687.435,3683.962,3683.962,3680.488,3680.488,3680.488,3677.016,3673.543,3673.543,3670.072,3666.601,3666.601,3663.129,3659.659,3659.659,3656.187,3656.187,3656.187,3656.187,3659.659,3659.659,3659.659,3656.187,3656.187,3656.187,3656.187,3652.718,3649.249,3645.779,3642.311,3638.841,3635.374,3631.906,3631.906,3631.906,3631.906,3631.906,3628.438,3624.972,3624.972,3621.504,3618.038,3614.573,3614.573,3614.573,3611.106,3611.106,3611.106,3607.642,3607.642,3607.642,3611.106,3611.106,3607.642,3604.176,3604.176,3604.176,3604.176,3600.713,3600.713,3597.249,3590.322,3590.322,3590.322,3590.322,3590.322,3590.322,3583.396,3579.935,3576.472,3569.549,3569.549,3566.089,3566.089,3566.089,3562.629,3562.629,3559.168,3555.709,3555.709,3555.709,3552.249,3552.249,3548.791,3548.791,3545.333,3545.333,3545.333,3541.874,3541.874,3541.874,3541.874,3541.874,3541.874,3538.417,3538.417,3538.417,3538.417,3534.958,3531.502,3531.502,3528.046,3528.046,3528.046,3524.589,3524.589,3524.589,3521.134,3521.134,3517.677,3517.677,3514.223,3514.223,3510.769,3507.313,3507.313,3507.313,3503.86,3500.405,3500.405,3500.405,3500.405,3500.405,3496.952,3493.5,3493.5,3493.5,3490.046,3490.046,3490.046,3486.595,3483.142,3483.142,3483.142,3479.691,3476.241,3476.241,3476.241,3472.789,3472.789,3469.34,3465.888,3465.888,3462.439,3462.439,3458.991,3458.991,3455.541,3452.093,3452.093,3452.093,3448.644,3445.197,3445.197,3441.75,3441.75,3441.75,3441.75,3441.75,3441.75,3438.302,3438.302,3434.856,3434.856,3434.856,3431.409,3431.409,3424.519,3421.072,3417.628,3414.183,3414.183,3414.183,3410.739,3410.739,3407.296,3407.296,3407.296,3407.296,3403.852,3400.409,3400.409,3400.409,3396.966,3393.524,3393.524,3393.524,3393.524,3393.524,3390.083,3386.64,3386.64,3386.64,3383.2,3379.758,3379.758,3379.758,3376.318,3376.318,3372.879,3369.438,3366,3366,3366,3362.559,3362.559,3359.122,3355.684,3352.245,3352.245,3348.808,3345.37,3341.934,3341.934,3335.061,3338.498,3338.498,3335.061,3335.061,3331.626,3331.626,3328.189,3324.755,3324.755,3324.755,3321.322,3321.322,3321.322,3324.755,3321.322,3324.755,3324.755,3324.755,3321.322,3321.322,3341.934,3341.934,3335.061,3307.586,
3304.154,3300.72,3300.72,3297.289,3297.289,3293.856,3293.856,3290.426,3290.426,3331.626,3307.586,3290.426,3286.996,3283.564,3276.703,3276.703,3273.274,3273.274,3273.274,3269.846,3266.416,3266.416,3266.416,3262.989,3262.989,3262.989,3262.989,3259.559,3259.559,3259.559,3259.559,3252.706,3249.278,3245.852,3242.424,3238.999,3235.574,3235.574,3235.574,3235.574,3235.574,3232.148,3228.724,3228.724,3225.298,3221.875,3221.875,3225.298,3221.875,3221.875,3225.298,3221.875,3218.452,3218.452,3215.028,3215.028,3211.605,3211.605,3208.182,3201.339,3201.339,3197.917,3197.917,3194.496,3191.074,3191.074,3187.654,3187.654,3184.235,3184.235,3184.235,3180.814,3177.396,3177.396,3173.975,3173.975,3173.975,3173.975,3173.975,3173.975,3173.975,3170.557,3170.557,3167.14,3167.14,3167.14,3163.721,3163.721,3160.304,3156.885,3153.469,3153.469,3150.054,3146.636,3143.222,3139.805,3139.805,3139.805,3136.391,3136.391,3132.977,3132.977,3129.561,3129.561,3129.561,3129.561,3129.561,3129.561,3132.977,3129.561,3126.148,3126.148,3122.733,3119.321,3119.321,3115.909,3112.495,3112.495,3105.671,3102.26,3098.85,3098.85,3098.85,3098.85,3095.438,3092.028,3092.028,3088.617,3085.208,3081.8,3081.8,3081.8,3078.389,3078.389,3078.389,3078.389,3078.389,3078.389,3078.389,3078.389,3074.982,3071.572,3068.165,3068.165,3061.35,3057.944,3057.944,3057.944,3054.536,3054.536,3054.536,3051.131,3047.726,3047.726,3047.726,3044.32,3040.915,3040.915,3037.51,3037.51,3034.106,3034.106,3034.106,3030.703,3030.703,3030.703,3027.298,3027.298,3023.896,3020.491,3017.09,3017.09,3013.688,3013.688,3010.286,3010.286,3006.885,3006.885,3003.483,3000.083,3000.083,3000.083,2996.683,3000.083,2996.683,2993.282,2989.883,2986.482,2986.482,2986.482,2983.084,2983.084,2979.687,2979.687,2979.687,2979.687,2976.287,2976.287,2972.89,2972.89,2969.491,2966.095,2962.699,2962.699,2962.699,2962.699,2959.301,2959.301,2955.906,2955.906,2952.509,2952.509,2949.115,2949.115,2945.72,2942.324,2942.324,2942.324,2938.931,2938.931,2935.536,2935.536,2935.536,2932.143,2928.75,2928.75,2925.356,2925.356,2921.965,2918.571,2918.571,2918.571,2915.18,2915.18,2915.18,2911.79,2911.79,2911.79,2908.397,2905.007,2905.007,2901.615,2898.226,2898.226,2894.837,2894.837,2894.837,2891.447,2888.059,2884.669,2884.669,2884.669,2881.281,2881.281,2881.281,2877.894,2877.894,2877.894,2874.505,2871.119,2871.119,2867.731,2867.731,2867.731,2864.345,2864.345,2860.96,2860.96,2860.96,2857.573,2857.573,2854.188,2854.188,2850.802,2847.418,2847.418,2847.418,2847.418,2844.034,2840.649,2840.649,2840.649,2837.266,2833.881,2833.881,2830.499,2830.499,2830.499,2827.117,2823.734,2823.734,2820.353,2820.353,2816.97,2813.589,2813.589,2810.209,2810.209,2806.827,2806.827,2803.448,2803.448,2800.067,2796.688,2800.067,2796.688,2793.31,2793.31,2793.31,2789.93,2789.93,2786.552,2786.552,2783.173,2779.796,2779.796,2776.42,2776.42,2776.42,2773.041,2773.041,2769.666,2769.666,2769.666,2766.288,2762.913,2762.913,2759.538,2756.161,2756.161,2752.787,2752.787,2749.412,2749.412,2746.038,2746.038,2746.038,2746.038,2742.665,2739.29,2735.918,2732.544,2732.544,2729.172,2725.801,2725.801,2725.801,2725.801,2719.057,2722.428,2722.428,2715.685,2715.685,2712.315,2712.315,2712.315,2708.946,2708.946,2708.946,2705.574,2702.206,2702.206,2702.206,2698.835,2698.835,2695.467,2695.467,2692.099,2688.729,2685.362,2685.362,2681.993,2681.993,2681.993,2681.993,2678.627,2678.627,2678.627,2678.627,2675.261,2671.893,2671.893,2668.528,2668.528,2665.161,2665.161,2665.161,2661.796,2658.432,2655.066,2655.066,2655.066,2651.702,2651.702,2648.337,2648.337,2644.974,2644.974,2644.974,2641.611,2638.247,2638.247,2634.885,2634.885,2631.521,2631.521,2628.16,2628.16,2624.8,2621.437,2621.437,2621.437,2618.077,2618.077,2614.715,2614.715,2614.715,2614.715,2611.355,2607.996,2607.996,2604.635,2604.635,2601.277,2601.277,2597.917,2597.917,2597.917,2594.559,2591.202,2591.202,2591.202,2591.202,2587.843,2584.486,2581.128,2581.128,2581.128,2577.772,2577.772,2574.416,2571.059,2571.059,2571.059,2567.704,2564.347,2564.347,2564.347,2560.993,2557.639,2557.639,2554.283,2554.283,2550.93,2550.93,2547.575,2547.575,2547.575,2547.575,2544.223,2544.223,2540.871,2540.871,2537.517,2537.517,2537.517,2534.165,2534.165,2530.812,2527.461,2527.461,2524.111,2524.111,2520.759,2520.759,2520.759,2520.759,2520.759,2517.409,2514.057,2510.708,2510.708,2504.009,2504.009,2504.009,2500.661,2500.661,2500.661,2497.311,2493.964,2490.617,2490.617,2487.268,2487.268,2483.922,2483.922,2483.922,2483.922,2480.574,2473.883,2473.883,2473.883,2470.536,2467.191,2467.191,2467.191,2467.191,2463.845,2460.501,2457.157,2457.157,2457.157,2453.812,2453.812,2450.469,2447.125,2447.125,2447.125,2443.782,2443.782,2440.441,2437.097,2433.756,2433.756,2430.413,2430.413,2427.073,2427.073,2423.732,2423.732,2423.732,2420.391,2417.051,2417.051,2417.051,2413.71,2410.371,2410.371,2407.033,2407.033,2403.693,2403.693,2403.693,2400.355,2400.355,2400.355,2397.015,2397.015,2393.678,2390.342,2390.342,2390.342,2387.003,2383.667,2380.329,2380.329,2376.994,2376.994,2376.994,2373.659,2370.322,2370.322,2370.322,2366.988,2366.988,2363.652,2360.318,2360.318,2356.985,2356.985,2353.65,2350.317,2350.317,2350.317,2346.983,2346.983,2343.651,2343.651,2340.319,2340.319,2340.319,2336.986,2336.986,2333.655,2333.655,2330.323,2326.992,2326.992,2323.662,2323.662,2320.331,2320.331,2317.001,2317.001,2313.671,2313.671,2313.671,2313.671,2310.342,2307.014,2307.014,2303.684,2303.684,2300.356,2300.356,2297.027,2297.027,2297.027,2293.7,2290.374,2290.374,2287.046,2287.046,2283.72,2283.72,2280.392,2280.392,2280.392,2273.742,2273.742,2270.416,2267.092,2267.092,2263.766,2263.766,2260.442,2260.442,2257.119,2253.794,2253.794,2250.472,2250.472,2247.148,2247.148,2243.826,2243.826,2243.826,2243.826,2243.826,2240.505,2237.182,2233.861,2233.861,2233.861,2230.538,2230.538,2230.538,2227.218,2223.898,2223.898,2220.577,2220.577,2220.577,2217.258,2217.258,2213.937,2213.937,2213.937,2210.619,2207.301,2207.301,2203.981,2203.981,2200.664,2200.664,2197.345,2197.345,2194.028,2194.028,2190.712,2187.394,2187.394,2184.078,2180.76,2180.76,2180.76,2177.446,2177.446,2177.446,2174.131,2170.814,2167.5,2167.5,2167.5,2164.185,2164.185,2164.185,2160.871,2157.558,2157.558,2154.244,2150.931,2150.931,2150.931,2147.617,2147.617,2147.617,2147.617,2147.617,2144.306,2144.306,2140.994,2140.994,2137.681,2134.371,2131.059,2131.059,2127.749,2124.439,2121.127,2121.127,2117.819,2117.819,2117.819,2117.819,2114.508,2111.2,2111.2,2107.892,2107.892,2104.582,2101.275,2101.275,2097.966,2097.966,2097.966,2094.659,2094.659,2091.353,2088.045,2084.739,2084.739,2081.432,2081.432,2081.432,2081.432,2081.432,2081.432,2078.127,2078.127,2074.823,2074.823,2071.516,2071.516,2068.212,2064.906,2061.603,2061.603,2058.3,2054.996,2054.996,2054.996,2051.694,2051.694,2048.39,2045.088,2041.787,2041.787,2041.787,2038.484,2038.484,2035.183,2031.881,2031.881,2031.881,2028.581,2028.581,2028.581,2025.281,2025.281,2021.98,2021.98,2021.98,2021.98,2021.98,2018.681,2015.38,2015.38,2015.38,2012.082,2008.784,2008.784,2008.784,2002.187,2002.187,2002.187,1998.888,1995.592,1992.296,1992.296,1988.998,1985.702,1982.405,1982.405,1982.405,1979.11,1975.815,1975.815,1975.815,1972.519,1972.519,1969.225,1965.929,1965.929,1962.636,1962.636,1962.636,1972.519,1972.519,1962.636,1959.343,1956.048,1956.048,1952.756,1952.756,1952.756,1952.756,1952.756,1949.462,1949.462,2028.581,2021.98,1939.586,1936.296,1933.003,1933.003,1929.713,1929.713,1926.424,1926.424,1923.132,1926.424,1926.424,1926.424,1926.424,1923.132,1923.132,1923.132,1916.553,1913.265,1909.977,1906.687,1903.4,1903.4,1900.11,1900.11,1896.824,1896.824,1893.538,1893.538,1893.538,1893.538,1893.538,1886.964,1886.964,1886.964,1883.677,1883.677,1880.391,1877.107,1877.107,1877.107,1877.107,1877.107,1877.107,1877.107,1873.82,1873.82,1870.536,1867.251,1863.967,1860.684,1857.4,1854.117,1854.117,1850.833,1847.552,1847.552,1850.833,1847.552,1847.552,1844.27,1844.27,1844.27,1844.27,1844.27,1844.27,1844.27,1840.987,1840.987,1837.706,1837.706,1834.424,1831.144,1831.144,1827.864,1824.583,1824.583,1818.023,1818.023,1814.745,1811.466,1808.187,1808.187,1804.909,1804.909,1801.63,1798.353,1798.353,1798.353,1795.077,1791.799,1791.799,1791.799,1788.523,1785.245,1785.245,1785.245,1785.245,1778.696,1778.696,1778.696,1775.419,1772.145,1772.145,1772.145,1768.869,1768.869,1765.596,1765.596,1762.322,1759.048,1759.048,1759.048,1755.775,1755.775,1755.775,1755.775,1752.501,1749.229,1745.957,1745.957,1742.684,1739.413,1739.413,1739.413,1736.141,1736.141,1736.141,1732.871,1729.601,1729.601,1726.329,1723.06,1723.06,1723.06,1719.789,1719.789,1723.06,1719.789,1716.52,1716.52,1713.252,1713.252,1713.252,1709.982,1706.714,1706.714,1703.445,1700.178,1700.178,1696.912,1696.912,1696.912,1693.643,1693.643,1690.377,1690.377,1687.11,1687.11,1680.579,1677.313,1677.313,1674.048,1670.782,1667.518,1667.518,1667.518,1664.255,1660.99,1660.99,1657.727,1657.727,1654.463,1654.463,1654.463,1651.201,1651.201,1651.201,1647.939,1644.676,1644.676,1644.676,1641.415,1641.415,1638.152,1638.152,1634.891,1631.631,1628.369,1628.369,1628.369,1628.369,1625.11,1625.11,1621.849,1618.59,1618.59,1618.59,1615.331,1612.071,1612.071,1608.813,1605.554,1605.554,1602.297,1602.297,1599.04,1595.781,1595.781,1595.781,1592.525,1592.525,1589.267,1586.011,1586.011,1582.756,1582.756,1582.756,1579.499,1576.245,1576.245,1572.988,1569.734,1569.734,1566.48,1566.48,1566.48,1563.225,1559.972,1559.972,1556.718,1556.718,1553.465,1553.465,1553.465,1553.465,1553.465,1550.213,1550.213,1546.959,1546.959,1543.708,1540.455,1537.204,1537.204,1533.954,1533.954,1530.702,1527.452,1527.452,1527.452,1527.452,1524.2,1524.2,1520.951,1517.702,1517.702,1517.702,1514.452,1511.204,1511.204,1507.954,1507.954,1504.706,1504.706,1501.459,1501.459,1498.21,1498.21,1494.964,1494.964,1494.964,1491.715,1491.715,1488.469,1491.715,1491.715,1488.469,1485.224,1481.977,1481.977,1478.732,1478.732,1475.485,1472.241,1472.241,1468.997,1468.997,1465.751,1465.751,1462.508,1462.508,1459.263,1456.02,1456.02,1456.02,1456.02,1452.778,1449.533,1446.292,1443.048,1443.048,1439.807,1436.566,
1436.566,1436.566,1433.324,1433.324,1430.084,1426.842,1426.842,1423.602,1423.602,1420.363,1420.363,1420.363,1420.363,1417.122,1413.884,1413.884,1410.644,1410.644,1407.406,1404.168,1404.168,1400.929,1404.168,1400.929,1397.692,1397.692,1397.692,1394.453,1391.217,1391.217,1391.217,1387.981,1387.981,1384.743,1384.743,1381.508,1381.508,1378.271,1378.271,1375.036,1371.802,1368.566,1368.566,1368.566,1365.332,1365.332,1362.097,1358.863,1358.863,1355.63,1352.396,1349.164,1349.164,1345.93,1349.164,1345.93,1345.93,1342.698,1339.467,1339.467,1339.467,1336.234,1333.004,1329.772,1329.772,1329.772,1326.542,1326.542,1323.312,1326.542,1326.542,1326.542,1326.542,1323.312,1323.312,1320.081,1316.852,1310.393,1310.393,1307.165,1303.935,1300.708,1300.708,1300.708,1297.479,1297.479,1294.252,1294.252,1294.252,1294.252,1297.479,1294.252,1294.252,1287.797,1284.571,1284.571,1281.344,1278.119,1274.894,1271.667,1268.443,1268.443,1268.443,1265.217,1261.994,1261.994,1258.77,1258.77,1258.77,1255.545,1255.545,1255.545,1255.545,1252.323,1252.323,1252.323,1249.098,1245.876,1245.876,1245.876,1242.655,1242.655,1239.431,1239.431,1236.21,1232.987,1232.987,1229.767,1229.767,1226.547,1223.325,1223.325,1223.325,1220.105,1216.884,1213.665,1210.447,1210.447,1210.447,1207.227,1207.227,1204.009,1204.009,1200.789,1200.789,1200.789,1197.572,1194.355,1194.355,1191.136,1191.136,1191.136,1191.136,1191.136,1187.92,1184.702,1184.702,1181.486,1181.486,1178.271,1175.054,1171.839,1171.839,1175.054,1171.839,1168.623,1168.623,1165.408,1165.408,1162.195,1162.195,1158.979,1158.979,1155.766,1155.766,1152.551,1152.551,1149.338,1146.126,1146.126,1142.912,1142.912,1142.912,1139.701,1136.487,1136.487,1133.276,1133.276,1133.276,1130.066,1126.853,1126.853,1126.853,1123.643,1123.643,1207.227,1181.486,1120.432,1114.013,1110.802,1110.802,1107.594,1104.384,1101.176,1101.176,1101.176,1097.968,1097.968,1094.759,1094.759,1091.552,1091.552,1091.552,1088.343,1085.137,1081.931,1078.723,1078.723,1075.518,1075.518,1075.518,1072.311,1069.106,1069.106,1069.106,1065.902,1065.902,1062.696,1059.492,1059.492,1056.286,1056.286,1056.286,1053.083,1053.083,1049.88,1046.676,1046.676,1043.474,1040.27,1040.27,1040.27,1040.27,1037.068,1033.867,1033.867,1030.664,1027.463,1024.261,1021.061,1017.861,1017.861,1017.861,1014.66,1011.46,1011.46,1008.26,1008.26,1005.061,1005.061,1001.863,998.663,998.663,998.663,995.4655,992.2662,992.2662,989.0693,985.8726,985.8726,982.6743,982.6743,982.6743,979.4783,979.4783,976.2806,976.2806,973.0852,969.8901,969.8901,966.6934,963.4989,963.4989,960.3027,960.3027,957.1089,953.9153,953.9153,953.9153,950.7202,947.5272,944.3326,944.3326,944.3326,944.3326,941.1403,937.9483,937.9483,934.7547,934.7547,931.5633,928.3703,928.3703,925.1795,921.9891,921.9891,918.797,918.797,918.797,915.6071,912.4156,912.4156,912.4156,909.2264,909.2264,906.0375,902.847,899.6587,899.6587,899.6587,896.4688,893.2811,893.2811,893.2811,890.0937,890.0937,886.9047,883.718,883.718,880.5295,880.5295,877.3434,877.3434,874.1576,870.9702,870.9702,870.9702,867.7849,864.5981,861.4135,861.4135,861.4135,858.2292,855.0433,851.8596,851.8596,848.6743,848.6743,848.6743,845.4913,842.3085,842.3085,842.3085,839.1241,839.1241,835.942,832.7582,829.5767,829.5767,826.3955,826.3955,826.3955,823.2126,820.032,820.032,816.8498,816.8498,813.6699,813.6699,813.6699,810.4902,810.4902,810.4902,807.3088,800.9491,800.9491,800.9491,797.7706,797.7706,794.5925,794.5925,791.4127,791.4127,788.2352,785.056,785.056,781.8791,781.8791,781.8791,778.7025,775.5242,775.5242,775.5242,772.3483,772.3483,769.1707,769.1707,765.9952,765.9952,762.8202,759.6434,759.6434,759.6434,756.469,753.2929,750.119,750.119,750.119,746.9455,746.9455,746.9455,743.7703,743.7703,743.7703,737.4228,737.4228,734.2504,731.0784,731.0784,727.9048,727.9048,724.7333,724.7333,721.5603,721.5603,721.5603,718.3895,715.219,712.0469,712.0469,708.877,705.7054,705.7054,705.7054,702.5362,699.3672,699.3672,699.3672,696.1966,693.0282,693.0282,689.8582,689.8582,686.6905,686.6905,686.6905,683.523,680.3539,680.3539,680.3539,677.1871,674.0186,674.0186,674.0186,674.0186,670.8524,670.8524,667.6865,667.6865,667.6865,667.6865,664.5189,664.5189,661.3535,658.1866,658.1866,655.0219,658.1866,651.8575,651.8575,648.6914,648.6914,648.6914,645.5276,645.5276,642.3622,639.199,636.0361,632.8715,629.7092,629.7092,626.5453,623.3837,620.2222,620.2222,617.0593,617.0593,613.8985,610.7361,610.7361,607.5759,607.5759,607.5759,604.416,604.416,601.2545,598.0953,598.0953,594.9344,594.9344,594.9344,591.7757,591.7757,588.6174,582.2996,582.2996,582.2996,579.1403,575.9831,572.8262,572.8262,569.6678,569.6678,566.5115,563.3537,563.3537,560.1981,560.1981,557.0427,557.0427,553.8857,550.731,550.731,547.5746,544.4205,544.4205,544.4205,544.4205,541.2667,541.2667,538.1112,538.1112,538.1112,534.958,531.8032,528.6505,525.4982,522.3442,519.1925,519.1925,516.0392,512.8881,512.8881,509.7372,506.5848,506.5848,506.5848,503.4346,500.2827,500.2827,497.1331,497.1331,497.1331,493.9838,490.8329,490.8329,490.8329,487.6841,487.6841,484.5338,481.3857,478.2379,478.2379,475.0884,471.9412,471.9412,468.7924,465.6458,465.6458,465.6458,465.6458,465.6458,465.6458,465.6458,465.6458,462.4994,459.3515,456.2058,456.2058,453.0584,449.9133,449.9133,449.9133,446.7685,449.9133,446.7685,443.6221,440.4778,434.1884,434.1884,431.045,431.045,431.045,427.9001,424.7574,421.613,421.613,421.613,418.4709,418.4709,418.4709,421.613,421.613,421.613,421.613,418.4709,418.4709,415.3291,415.3291,415.3291,412.1856,409.0444,409.0444,409.0444,402.7609,399.6206,396.4786,393.3389,390.1975,387.0584,387.0584,383.9195,383.9195,380.7791,380.7791,380.7791,380.7791,380.7791,377.6408,377.6408,374.5009,374.5009,374.5009,371.3633,368.226,368.226,368.226,365.087,361.9502,361.9502,358.8118,355.6757,355.6757,349.4023,349.4023,349.4023,346.2671,343.1302,343.1302,343.1302,343.1302,339.9955,339.9955,336.8611,333.7251,330.5913,330.5913,330.5913,327.4559,324.3227,324.3227,321.1898,321.1898,321.1898,318.0553,314.923,314.923,311.7891,308.6574,308.6574,308.6574,305.526,305.526,305.526,302.3929,299.2621,299.2621,299.2621,299.2621,296.1297,296.1297,292.9995,292.9995,289.8695,289.8695,286.738,286.738,283.6087,283.6087,280.4777,280.4777,277.349,277.349,277.349,274.2205,274.2205,271.0905,264.8331,264.8331,264.8331,261.7058,261.7058,258.5789,255.4503,252.3239,252.3239,252.3239,252.3239,249.1959,249.1959,249.1959,249.1959,249.1959,246.0701,242.9446,242.9446,242.9446,239.8175,236.6926,236.6926,233.5661,233.5661,233.5661,233.5661,230.4418,230.4418,227.3178,227.3178,227.3178,227.3178,224.1922,224.1922,224.1922,221.0687,217.9437,214.8208,214.8208,211.6983,211.6983,208.5741,208.5741,205.4522,205.4522,202.3286,199.2073,199.2073,196.0862,196.0862,192.9635,192.9635,192.9635,189.843,189.843,186.7209,183.601,180.4814,177.3602,177.3602,174.2412,171.1206,171.1206,168.0022,168.0022,164.884,164.884,161.7643,158.6468,161.7643,158.6468,155.5276,155.5276,155.5276,155.5276,155.5276,152.4106,149.294,149.294,146.1757,143.0596,143.0596,139.9419,136.8265,133.7113,127.4798,127.4798,127.4798,124.3636,121.2496,121.2496,121.2496,121.2496,118.1359,118.1359,118.1359,115.0205,111.9074,108.7926,108.7926,105.6801,105.6801,102.5678,102.5678,105.6801,102.5678,99.45393,102.5678,102.5678,102.5678,102.5678,99.45393,96.34224,96.34224,96.34224,96.34224,90.11785,90.11785,87.00704,87.00704,83.89463,80.78441,77.67258,74.56294,74.56294,68.34264,68.34264,62.12351,59.01533,59.01533,59.01533,55.90744,55.90744,52.79795,52.79795,52.79795,49.69064,46.58173,46.58173,43.47501,40.36858,37.26054,37.26054,34.1547,34.1547,34.1547,31.04724,31.04724,27.94198,27.94198,24.837,24.837,21.73042,21.73042,21.73042,18.62603,18.62603,15.52003,15.52003,12.41622,12.41622,12.41622,9.312699,9.312699,9.312699,9.312699,6.207574,6.207574,-21.71411,-58.90837,6.207574,3.104635,9.10E-05,3.104635,3.104635,3.104635,3.104635,6.207574};

// initialize the stepper library on pins 14 through 17:
Stepper myStepper(motorStepsPerRevolution, 14, 15, 16, 17);

Servo myservo;

DynamicJsonDocument data(1024);
DynamicJsonDocument doc(1024);

// roundabout
// long double lat1 = 32.984202;
// long double long1 = -106.975268;
// // spaceport america
// long double lat2 = 32.990509;
// long double long2 = -106.975575;
// // directly south
// long double lat3 = 32.988750;
// long double long3 = -106.985446;
// // directly west
// long double lat4 = 32.990509;
// long double long4 = -106.985567;
// // directly north
// long double lat5 = 32.997895;
// long double long5 = -106.975575;
// // directly east
// long double lat6 = 32.990509;
// long double long6 = -106.965575;
// two miles west
double lat7 = 32.989786;
double long7 = -107.024810;

double elevRock = 10000;
double elevGround = 0;

double rockLat;
double rockLong;

double groundLat = 32.990509;
double groundLong = -106.975575;

int stepPos = 0;
int num_messages = 0;

// Utility function for printing doubles
void printDouble( double val, unsigned int precision){

    Serial.print (int(val));  //prints the int part
    Serial.print("."); // print the decimal point
    unsigned int frac;
    if(val >= 0)
        frac = (val - int(val)) * precision;
    else
        frac = (int(val)- val ) * precision;
    Serial.print(frac,DEC) ;
} 

// Utility function for
// converting degrees to radians
long double toRadians(const long double degree)
{
  long double one_deg = (M_PI) / 180;
  return (one_deg * degree);
}

// Utility function for converting radians to degrees
long double toDegrees(const long double radian)
{
  long double one_rad = 180 / (M_PI);
  return (one_rad * radian);
}

// calculates the distance between two lat/long points via the Haversine Formula
long double distance(long double lat1, long double long1,
                     long double lat2, long double long2)
{
  // Convert the latitudes and longitudes from degree to radians.
  lat1 = toRadians(lat1);
  long1 = toRadians(long1);
  lat2 = toRadians(lat2);
  long2 = toRadians(long2);

  // Haversine Formula
  long double dlong = long2 - long1;
  long double dlat = lat2 - lat1;
  long double ans = pow(sin(dlat / 2), 2) + cos(lat1) * cos(lat2) * pow(sin(dlong / 2), 2);
  ans = 2 * asin(sqrt(ans));

  // Radius of Earth in Kilometers
  long double R = 6371;
  ans = ans * R;

  return ans;
}

long double bearing(long double lat1, long double long1, long double lat2, long double long2)
{
  lat1 = toRadians(lat1);
  long1 = toRadians(long1);
  lat2 = toRadians(lat2);
  long2 = toRadians(long2);

  // Bearing formula
  long double del_L = long2 - long1;
  long double x = cos(lat2) * sin(del_L);
  long double y = cos(lat1) * sin(lat2) - sin(lat1) * cos(lat2) * cos(del_L);
  long double bearing = atan2(x, y);
  return toDegrees(bearing);
}

long double ascension(long double elev_rocket, long double elev_gs, long double dist)
{
  long double y = elev_rocket - elev_gs;
  return toDegrees(atan(y / (dist * 1000)));
}

void setStepperIdle() {
  digitalWrite(7, LOW);
  digitalWrite(8, LOW);
  digitalWrite(9, LOW);
  digitalWrite(10, LOW);
}

void setup() {
  // attaches the servo on pin GI13 to the servo object
  myservo.attach(12, 500, 2500);
  // set the speed at 60 rpm:
  myStepper.setSpeed(60);
  // initialize the serial port:
  Serial.begin(9600);
  if (DATA_INPUT) {
    delay(10000);
  }
}

void loop() {


  //TODO: receive telemetry
  

  rockLat = lat7;
  rockLong = long7;
  if (SERIAL_INPUT) {
    Serial.println("Enter data:");
    while (Serial.available() == 0) {}     //wait for data available
    String teststr = Serial.readString();  //read until timeout
    teststr.trim();
    deserializeJson(doc, teststr);
    groundLat = doc["glat"];
    groundLong = doc["glong"];
    rockLat = doc["lat"];
    rockLong = doc["long"];
    elevRock = doc["elev"];
  }

  if (DATA_INPUT && iteration <= (sizeof(alt_data) / sizeof(alt_data[0]))) {
    // delay(500);
    elevRock = alt_data[iteration];
    iteration++;
  }

//Format: {"long": 0.0, "lat":0.0,"glong":0.0,"glat":0.0,"elev":0.0}
//First: {"long": 1, "lat": 0,"glong":0.0,"glat":0.0,"elev":0.0}
//Second: {"long": -1, "lat": -1,"glong":0.0,"glat":0.0,"elev":0.0}
//Third: {"long":1,"lat": -1,"glong":0.0,"glat":0.0,"elev":0.0}
//Fourth: {"long":0,"lat":0.01,"glong":0.0,"glat":0.0,"elev":10000}
//Fifth: {"long":0,"lat":-0.01,"glong":0.0,"glat":0.0,"elev":10000}
//Sixth: {"long":0.03,"lat":0.07,"glong":0.0,"glat":0.0,"elev":6534.9}

  //convert coordinates to angles
  long double dist = distance(rockLat, rockLong, groundLat, groundLong);
  Serial.print("Distance: ");
  printDouble(dist, 15);
  Serial.println(" km");
  long double bear = bearing(rockLat, rockLong, groundLat, groundLong);
  Serial.print("Bearing: ");
  printDouble(bear, 15);
  Serial.println(" degrees");
  long double asc = ascension(elevRock, elevGround, dist);
  Serial.print("Ascension: ");
  printDouble(asc, 15);
  Serial.println(" degrees");
  int target = (bear / 360) * platformStepsPerRev;
  int stepsToTake;
  if (target - stepPos > (platformStepsPerRev / 2)) {
    stepsToTake = (target - stepPos) - platformStepsPerRev;
  } else if (target - stepPos < -(platformStepsPerRev / 2)) {
    stepsToTake = (target - stepPos) + platformStepsPerRev;
  } else {
    stepsToTake = target - stepPos;
  }
  stepPos = target;

  //aim antenna
  myservo.write(asc);
  // Serial.println("delaying");
  // delay(1000000);
  myStepper.step(stepsToTake);
  setStepperIdle();
  // delay(500);
  Serial.print("Taking ");
  Serial.print(stepsToTake);
  Serial.println(" steps.");

  //package data in JSON
  data["latitude"] = rockLat;
  data["longitude"] = rockLong;
  data["elevation"] = elevRock;
  data["accel_x"] = 0.0;
  data["accel_y"] = 0.0;
  data["accel_z"] = 0.0;
  data["gyro_x"] = 0.0;
  data["gyro_y"] = 0.0;
  data["gyro_z"] = 0.0;
  data["mag_x"] = 0.0;
  data["mag_y"] = 0.0;
  data["mag_z"] = 0.0;
  data["temp"] = 0.0;
  for (int i = 0; i < num_messages; i++) {
    data["messages"][i] = "PLACEHOLDER";
  }

  //send data to laptop
  serializeJson(data, Serial);
  Serial.println();
}

